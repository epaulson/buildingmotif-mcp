@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix brick: <https://brickschema.org/schema/Brick#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix myorg: <urn:myorg/> .


# Shape: Every floor must have at least one temperature sensor
myorg:StandardFloor a owl:Class, sh:NodeShape ;
  rdfs:subClassOf brick:Floor ;
  sh:targetClass brick:Floor ;
  sh:property [
    sh:path brick:hasPoint ;
    sh:qualifiedValueShape [
      sh:class brick:Temperature_Sensor ;
    ] ;
    sh:qualifiedMinCount 1 ;
    sh:message "Every floor must have at least one temperature sensor" ;
  ] .

# Shape: Equipment labels must follow naming convention
myorg:EquipmentNameShape
  a sh:NodeShape ;
  sh:targetClass brick:Equipment ;
  sh:property [
    sh:path rdfs:label ;
    sh:pattern "^[A-Z]{2,4}[0-9]{1,3}(-[A-Z0-9]+)?$" ;
    sh:message "Equipment labels must follow pattern: XX-000 or XXXX-000" ;
  ] .
